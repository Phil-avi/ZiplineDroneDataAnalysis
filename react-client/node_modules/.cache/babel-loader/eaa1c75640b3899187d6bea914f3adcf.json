{"ast":null,"code":"var _jsxFileName = \"/Users/oliverxu/Desktop/CS/BGI/client-react/ecom-client/src/components/modals/DeleteModal.jsx\";\nimport React from 'react';\nimport AdminService from '../../services/admin.service';\nimport UserService from '../../services/user.service';\nimport $ from 'jquery';\n\nclass DeleteModal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: this.props.user,\n      error: ''\n    };\n  }\n\n  componentDidMount() {\n    const handleDeleteModalCloseClick = this.props.handleDeleteModalCloseClick;\n    $(this.modal).modal('show');\n    $(this.modal).on('hidden.bs.modal', handleDeleteModalCloseClick);\n  }\n\n  handleCloseClick() {\n    const handleDeleteModalCloseClick = this.props.handleDeleteModalCloseClick;\n    $(this.modal).modal('hide');\n    handleDeleteModalCloseClick();\n  }\n\n  deleteUser(e) {\n    e.preventDefault();\n    const user = this.state.user;\n    AdminService.deleteUser(user).then(data => {\n      this.props.onDeleteChildUpdate(user, true);\n      this.handleCloseClick();\n    }, error => {\n      this.props.onDeleteChildUpdate(null, false);\n      this.setState({\n        error: \"Unexpected error occurred.\",\n        loading: false\n      });\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          user = _this$state.user,\n          error = _this$state.error;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, user && React.createElement(\"div\", {\n      className: \"modal fade\",\n      id: \"deleteModal\",\n      ref: modal => this.modal = modal,\n      tabIndex: \"-1\",\n      role: \"dialog\",\n      \"aria-labelledby\": \"deleteModalLabel\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-dialog\",\n      role: \"document\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"modal-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Confirmation\"), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"close\",\n      \"data-dismiss\": \"modal\",\n      \"aria-label\": \"Close\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"\\xD7\"))), React.createElement(\"div\", {\n      className: \"modal-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Are you sure to delete \", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, user.name), \"?\"), React.createElement(\"div\", {\n      className: \"modal-footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-secondary\",\n      \"data-dismiss\": \"modal\",\n      onClick: () => this.handleCloseClick(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Cancel\"), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-danger\",\n      onClick: e => this.deleteUser(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"I'm sure.\"))))));\n  }\n\n}\n\nexport { DeleteModal };","map":{"version":3,"sources":["/Users/oliverxu/Desktop/CS/BGI/client-react/ecom-client/src/components/modals/DeleteModal.jsx"],"names":["React","AdminService","UserService","$","DeleteModal","Component","constructor","props","state","user","error","componentDidMount","handleDeleteModalCloseClick","modal","on","handleCloseClick","deleteUser","e","preventDefault","then","data","onDeleteChildUpdate","setState","loading","render","name"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,8BAAzB;AACA,OAAOC,WAAP,MAAwB,6BAAxB;AACA,OAAOC,CAAP,MAAc,QAAd;;AAEA,MAAMC,WAAN,SAA0BJ,KAAK,CAACK,SAAhC,CAA0C;AAExCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAE,KAAKF,KAAL,CAAWE,IADR;AAETC,MAAAA,KAAK,EAAE;AAFE,KAAb;AAIH;;AAEDC,EAAAA,iBAAiB,GAAG;AAAA,UACVC,2BADU,GACsB,KAAKL,KAD3B,CACVK,2BADU;AAEhBT,IAAAA,CAAC,CAAC,KAAKU,KAAN,CAAD,CAAcA,KAAd,CAAoB,MAApB;AACAV,IAAAA,CAAC,CAAC,KAAKU,KAAN,CAAD,CAAcC,EAAd,CAAiB,iBAAjB,EAAoCF,2BAApC;AACH;;AAEDG,EAAAA,gBAAgB,GAAG;AAAA,UACTH,2BADS,GACuB,KAAKL,KAD5B,CACTK,2BADS;AAEjBT,IAAAA,CAAC,CAAC,KAAKU,KAAN,CAAD,CAAcA,KAAd,CAAoB,MAApB;AACAD,IAAAA,2BAA2B;AAC5B;;AAEDI,EAAAA,UAAU,CAACC,CAAD,EAAI;AACVA,IAAAA,CAAC,CAACC,cAAF;AADU,UAGFT,IAHE,GAGO,KAAKD,KAHZ,CAGFC,IAHE;AAKVR,IAAAA,YAAY,CAACe,UAAb,CAAwBP,IAAxB,EACKU,IADL,CAEQC,IAAI,IAAI;AACJ,WAAKb,KAAL,CAAWc,mBAAX,CAA+BZ,IAA/B,EAAqC,IAArC;AACA,WAAKM,gBAAL;AACH,KALT,EAMQL,KAAK,IAAI;AACP,WAAKH,KAAL,CAAWc,mBAAX,CAA+B,IAA/B,EAAqC,KAArC;AACA,WAAKC,QAAL,CAAc;AAAEZ,QAAAA,KAAK,EAAE,4BAAT;AAAuCa,QAAAA,OAAO,EAAE;AAAhD,OAAd;AACD,KATT;AAWH;;AAEDC,EAAAA,MAAM,GAAE;AAAA,wBACkB,KAAKhB,KADvB;AAAA,UACEC,IADF,eACEA,IADF;AAAA,UACQC,KADR,eACQA,KADR;AAEN,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACCD,IAAI,IACH;AAAK,MAAA,SAAS,EAAC,YAAf;AAA4B,MAAA,EAAE,EAAC,aAA/B;AAA6C,MAAA,GAAG,EAAEI,KAAK,IAAG,KAAKA,KAAL,GAAaA,KAAvE;AAA+E,MAAA,QAAQ,EAAC,IAAxF;AAA6F,MAAA,IAAI,EAAC,QAAlG;AAA2G,yBAAgB,kBAA3H;AAA8I,qBAAY,MAA1J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,cAAf;AAA8B,MAAA,IAAI,EAAC,UAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAEE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,SAAS,EAAC,OAAhC;AAAwC,sBAAa,OAArD;AAA6D,oBAAW,OAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgF;AAAM,qBAAY,MAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAhF,CAFF,CADJ,EAKI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCACyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAASJ,IAAI,CAACgB,IAAd,CADzB,MALJ,EAQI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,SAAS,EAAC,mBAAhC;AAAoD,sBAAa,OAAjE;AAAyE,MAAA,OAAO,EAAE,MAAI,KAAKV,gBAAL,EAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,SAAS,EAAC,gBAAhC;AAAiD,MAAA,OAAO,EAAGE,CAAD,IAAK,KAAKD,UAAL,CAAgBC,CAAhB,CAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFF,CARJ,CADF,CADF,CAFF,CADF;AAuBD;;AAlEuC;;AAsE1C,SAASb,WAAT","sourcesContent":["import React from 'react';\nimport AdminService from '../../services/admin.service';\nimport UserService from '../../services/user.service';\nimport $ from 'jquery';\n\nclass DeleteModal extends React.Component {\n\n  constructor(props) {\n      super(props);\n\n      this.state = {\n          user: this.props.user,\n          error: '',\n      };\n  }\n\n  componentDidMount() {\n    const { handleDeleteModalCloseClick } = this.props;\n      $(this.modal).modal('show');\n      $(this.modal).on('hidden.bs.modal', handleDeleteModalCloseClick);\n  }\n\n  handleCloseClick() {\n    const { handleDeleteModalCloseClick } = this.props;\n    $(this.modal).modal('hide');\n    handleDeleteModalCloseClick();\n  }\n\n  deleteUser(e) {\n      e.preventDefault();\n\n      const { user } = this.state;\n\n      AdminService.deleteUser(user)\n          .then(\n              data => {\n                  this.props.onDeleteChildUpdate(user, true);\n                  this.handleCloseClick();\n              },\n              error => {\n                this.props.onDeleteChildUpdate(null, false);\n                this.setState({ error: \"Unexpected error occurred.\", loading: false });\n              }\n          );\n  }\n\n  render(){\n    const { user, error } = this.state;\n    return (\n      <div>\n      {user &&\n        <div className=\"modal fade\" id=\"deleteModal\" ref={modal=> this.modal = modal}  tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"deleteModalLabel\" aria-hidden=\"true\">\n          <div className=\"modal-dialog\" role=\"document\">\n            <div className=\"modal-content\">\n                <div className=\"modal-header\">\n                  <h5 className=\"modal-title\">Confirmation</h5>\n                  <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\n                </div>\n                <div className=\"modal-body\">\n                  Are you sure to delete <strong>{user.name}</strong>?\n                </div>\n                <div className=\"modal-footer\">\n                  <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\" onClick={()=>this.handleCloseClick()}>Cancel</button>\n                  <button type=\"button\" className=\"btn btn-danger\" onClick={(e)=>this.deleteUser(e)}>I'm sure.</button>\n                </div>\n            </div>\n          </div>\n        </div>\n      }\n      </div>\n    );\n  }\n\n}\n\nexport { DeleteModal };\n"]},"metadata":{},"sourceType":"module"}